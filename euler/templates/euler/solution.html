{% extends 'base.html' %}

{% block styles %}
    <!-- highlight.js -->
    <!-- Change word before .min.css to change style of code -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/styles/github.min.css">

{% endblock %}

{% block title %}
    Project Euler #{% block problem_number %}{% endblock %}
{% endblock %}

{% block content %}
    <!-- Problem Statement -->
    <div class="row">
        <div class="card mb-3" id="card-left-border">
            <div class="card-body">
                <h5 class="card-title"> {% block problem_title %} {% endblock %} </h5>
                <p class="card-text"> {% block problem_text %} {% endblock %} </p>
            </div>
        </div>
    </div>
    <!-- Solution (explained) -->
    <div class="row">
        <div class="card mb-3" id="card-left-border">
            <div class="card-body">
                <h5 class="card-title"> The Idea </h5>
                <p class="card-text"> {% block idea_text %} {% endblock %} </p>
            </div>
        </div>
    </div>
    <!-- Solution (code) -->
    <div class="row">
        <div class="card" id="card-left-border">
            <div class="card-body">
                <h5 class="card-title"> The Code </h5>
                <p class="card-text">
                <pre><code id="solution-code"></code></pre>
            </div>
        </div>
    </div>
    <!-- Notes for all solutions -->
    <div class="row">
        <div class="card mb-3" id="card-left-border">
            <div class="card-body">
                <div class="card-title"><h5>Notes</h5></div>
                <div class="card-text">
                    The full <code>utils</code> module can be found on <a
                        href="https://github.com/jackmoody11/project-euler-solutions/tree/master/python/utils.py"
                        target="_blank"><i
                        class="fab fa-github"></i> GitHub here</a>.
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <!-- MathJax -->
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/javascript">
        MathJax.Hub.Config({
            "HTML-CSS": {linebreaks: {automatic: true, width: "container"}},
            displayAlign: "center",
            extensions: ["tex2jax.js", "MathMenu.js", "MathZoom.js"],
            jax: ["input/TeX", "output/HTML-CSS"],
            TeX: {extensions: ["AMSmath.js", "AMSsymbols.js", "noErrors.js", "noUndefined.js"]},
            tex2jax: {ignoreClass: "w1", processClass: "active|comments-content"}
        });
    </script>


    <!-- highlight.js and get code -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/highlight.min.js"></script>
    <script type="text/javascript">
        let url = 'https://raw.githubusercontent.com/jackmoody11/project-euler-solutions/master/python/' + '{{ number }}'
            + '.py';
        fetch(url)
            .then(r => r.text())
            .then(data => {
                document.getElementById('solution-code').innerHTML = data;
                hljs.initHighlighting();
            });
    </script>
{% endblock %}
